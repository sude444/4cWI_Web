<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <title>TopFilme</title>
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>

<body>

    
    <div class="mitte">
        <div>
            <ul class="header">
                        <li><a class="topFilme" href="index.html"><b>Top</b>filme</a></li>
                        <img class="topFilmeHerz" src="SWP_BILDER/TopFilmeHerz1.png" height="200px" weight="auto">
                        <li><c class="lieblingsfilm" href="genre.html">All your <b>Favourite</b>Movies</c></li>
            </ul>
        </div>
        <div class="abstandOben">
            <div class="box">
                <h1 id="Film1">Elemental</h1>
                <p id="Date1"class="datum">16 Jun 2023</p>
                <p id="Rating1" class="rating">7/10</p>
                <img id="Poster1" class="moviePoster" src="SWP_BILDER/elemental.jpeg">
            </div>

            <div class="box">
                <h1 id="Film2">Barbie</h1>
                <p id="Date2" class="datum">21 Jun 2023</p>
                <p id="Rating2" class="rating">7/10</p>
                <img id="Poster2" class="moviePoster" src="SWP_BILDER/barbie.jpg">
            </div>

            <div class="box">
                <h1 id="Film3">Snow White</h1>
                <p id="Date3" class="datum">21 Sep 1937</p>
                <p id="Rating3" class="rating">7.6/10</p>
                <img id="Poster3" class="moviePoster" src="SWP_BILDER/snowwhite.jpg">
            </div>

            <div class="searchbar">
                <img class="lupe" id="searchicon"src="SWP_BILDER/Lupe.png">
                <input class="input" type="text" id="searchInput">
                
            </div>
        </div>

        <div class="genre"> 
            <h2 id="apiTitle"> Five Nights at Freddy's</h2>
        </div>
        <div class="box2">
            <p class="releaseDateUB">Release date:</p>
            <p class="releaseDate" id="apiDate">24.10.23</p>

            <p class="releaseDateUB">Rating:</p>
            <p class="releaseDate" id="apiRating">4/10</p>

            <p class="releaseDateUB">Director:</p>
            <p class="releaseDate"id="apiDirector">Sude Bayar</p>

            <p class="releaseDateUB">Plot:</p>
            <p class="releaseDate"id="apiPlot">In the summer of 1989, a group of bullied kids band together to destroy a shape-shifting monster, which disguises itself as a clown and preys on the children of Derry, their small Maine town.</p>
        </div>

        <img class="moviePosterRD" id="apiImg" src="SWP_BILDER/Movie.webp">

    </div>


    <script>
        document.getElementById('searchicon').addEventListener('click', function () {
            var searchQuery = document.getElementById('searchInput').value;
            fetch(`http://www.omdbapi.com?t=${searchQuery}&apikey=cea04f46`)
            .then((res)=>res.json()
            .then((result)=>{
                console.log(result)
                document.getElementById('apiTitle').textContent = result.Title;
                document.getElementById('apiDate').textContent = result.Released;
                document.getElementById('apiRating').textContent = result.imdbRating;
                document.getElementById('apiDirector').textContent = result.Director;
                document.getElementById('apiPlot').textContent = result.Plot;
                document.getElementById('apiImg').src = result.Poster;
            }))
        })

        const Filmliste = ["Scream", "Barbie", "Elemental", "Snow White", "Mulan", "Frozen", "IT", "Frozen II", "Scream VI", "Tangled", "Inside out", "Cars", "Moana", "Finfing Nemo"]

            var Titel1 = Filmliste[Math.floor(Math.random()*Filmliste.length)]
            var Titel2 = Filmliste[Math.floor(Math.random()*Filmliste.length)]
            var Titel3 = Filmliste[Math.floor(Math.random()*Filmliste.length)]

            fetch(`http://www.omdbapi.com?t=${Titel1}&apikey=cea04f46`)
            .then((res)=>res.json()
            .then((result)=>{
                console.log(result)
                document.getElementById('Film1').textContent = result.Title;
                document.getElementById('Date1').textContent = result.Released;
                document.getElementById('Poster1').src = result.Poster;
                document.getElementById('Rating1').textContent = result.imdbRating;
            }))

            fetch(`http://www.omdbapi.com?t=${Titel2}&apikey=cea04f46`)
            .then((res)=>res.json()
            .then((result)=>{
                console.log(result)
                document.getElementById('Film2').textContent = result.Title;
                document.getElementById('Date2').textContent = result.Released;
                document.getElementById('Poster2').src = result.Poster;
                document.getElementById('Rating2').textContent = result.imdbRating;
            }))

            fetch(`http://www.omdbapi.com?t=${Titel3}&apikey=cea04f46`)
            .then((res)=>res.json()
            .then((result)=>{
                console.log(result)
                document.getElementById('Film3').textContent = result.Title;
                document.getElementById('Date3').textContent = result.Released;
                document.getElementById('Poster3').src = result.Poster;
                document.getElementById('Rating3').textContent = result.imdbRating;

        }))


    </script>
</html>